import{S as te,i as ne,s as se,e as _,c as b,a as A,d as g,b as v,g as N,K as ae,v as ce,L as re,M as ie,C as ge,w as G,k as B,t as C,x as L,m as R,h as D,J as d,y as M,N as T,O as le,z as _e,A as be,j as ve,P as oe,q as Q,o as Y,B as z,Q as ye,R as he,T as we,U as de,V as Pe,p as qe,n as Ae}from"../chunks/vendor-a3c18323.js";function Se(r){let e;return{c(){e=_("div"),this.h()},l(n){e=b(n,"DIV",{class:!0}),A(e).forEach(g),this.h()},h(){v(e,"class","vis svelte-p88dv4")},m(n,s){N(n,e,s),r[5](e)},p:ae,i:ae,o:ae,d(n){n&&g(e),r[5](null)}}}function ke(r,e,n){let s,{data:o}=e,{comp1:p}=e,{comp2:a}=e,{hoverable:l=!0}=e,i;ce(()=>{s=re(".vis").append("svg"),s.attr("viewBox",[-5,0,64,120]).style("height","inherit"),q()});let q=()=>{if(s){s.selectAll("*").remove();let f=s.selectAll("group").data(o).enter().append("g").on("mouseover",function(h,t){l&&re(this).selectAll("#guide").style("visibility","visible")}).on("mouseout",function(h,t){l&&re(this).selectAll("#guide").style("visibility","hidden")});f.append("rect").attr("x",(h,t)=>t*10).attr("y",function(h){return 100-h}).attr("width",8).attr("height",function(h){return h}).attr("fill",(h,t)=>p==t?"#0000FF":a==t?"#FF0000":"#FFFFFF").attr("stroke","black"),f.append("line").attr("id","guide").attr("x1",0).attr("x2",10*o.length-1).attr("y1",h=>100-h).attr("y2",h=>100-h).attr("stroke","red").style("visibility","hidden")}};function u(f){ie[f?"unshift":"push"](()=>{i=f,n(0,i)})}return r.$$set=f=>{"data"in f&&n(1,o=f.data),"comp1"in f&&n(2,p=f.comp1),"comp2"in f&&n(3,a=f.comp2),"hoverable"in f&&n(4,l=f.hoverable)},r.$$.update=()=>{r.$$.dirty&2&&q()},[i,o,p,a,l,u]}class Ee extends te{constructor(e){super();ne(this,e,ke,Se,se,{data:1,comp1:2,comp2:3,hoverable:4})}}function Fe(r){let e,n,s,o,p,a,l,i,q,u,f,h,t,c=(r[2]?"You can hover over a bar to see a line spanning the graph.":"")+"",w,S,P,O,J,K,j,k,H,X,W,E,U,Z,ue;const $=[r[1],{hoverable:r[2]}];let x={};for(let m=0;m<$.length;m+=1)x=ge(x,$[m]);return s=new Ee({props:x}),{c(){e=_("div"),n=_("span"),G(s.$$.fragment),o=B(),p=_("span"),a=_("p"),l=C(`Compare the heights of the red and blue bars. 
            `),i=_("br"),q=_("br"),u=C(`
            In the field below, enter your guess for the blue bar's height,
            as a percentage of the red bar's height.
            `),f=_("br"),h=_("br"),t=B(),w=C(c),S=B(),P=_("span"),O=_("h4"),J=C("Your guess"),K=B(),j=_("span"),k=_("input"),H=C(`
            % of the red bar`),X=_("br"),W=B(),E=_("input"),this.h()},l(m){e=b(m,"DIV",{class:!0});var y=A(e);n=b(y,"SPAN",{class:!0});var V=A(n);L(s.$$.fragment,V),V.forEach(g),o=R(y),p=b(y,"SPAN",{class:!0});var fe=A(p);a=b(fe,"P",{id:!0});var F=A(a);l=D(F,`Compare the heights of the red and blue bars. 
            `),i=b(F,"BR",{}),q=b(F,"BR",{}),u=D(F,`
            In the field below, enter your guess for the blue bar's height,
            as a percentage of the red bar's height.
            `),f=b(F,"BR",{}),h=b(F,"BR",{}),t=R(F),w=D(F,c),F.forEach(g),fe.forEach(g),S=R(y),P=b(y,"SPAN",{class:!0});var I=A(P);O=b(I,"H4",{});var pe=A(O);J=D(pe,"Your guess"),pe.forEach(g),K=R(I),j=b(I,"SPAN",{});var ee=A(j);k=b(ee,"INPUT",{type:!0,min:!0,max:!0}),H=D(ee,`
            % of the red bar`),ee.forEach(g),X=b(I,"BR",{}),W=R(I),E=b(I,"INPUT",{type:!0,min:!0,max:!0}),I.forEach(g),y.forEach(g),this.h()},h(){v(n,"class","Graph svelte-dmll0m"),v(a,"id","prompt"),v(p,"class","Prompt svelte-dmll0m"),v(k,"type","number"),v(k,"min","0"),v(k,"max","100"),v(E,"type","range"),v(E,"min","0"),v(E,"max","100"),v(P,"class","Answer svelte-dmll0m"),v(e,"class","question svelte-dmll0m")},m(m,y){N(m,e,y),d(e,n),M(s,n,null),d(e,o),d(e,p),d(p,a),d(a,l),d(a,i),d(a,q),d(a,u),d(a,f),d(a,h),d(a,t),d(a,w),d(e,S),d(e,P),d(P,O),d(O,J),d(P,K),d(P,j),d(j,k),T(k,r[0]),d(j,H),d(P,X),d(P,W),d(P,E),T(E,r[0]),U=!0,Z||(ue=[le(k,"input",r[3]),le(E,"change",r[4]),le(E,"input",r[4])],Z=!0)},p(m,[y]){const V=y&6?_e($,[y&2&&be(m[1]),y&4&&{hoverable:m[2]}]):{};s.$set(V),(!U||y&4)&&c!==(c=(m[2]?"You can hover over a bar to see a line spanning the graph.":"")+"")&&ve(w,c),y&1&&oe(k.value)!==m[0]&&T(k,m[0]),y&1&&T(E,m[0])},i(m){U||(Q(s.$$.fragment,m),U=!0)},o(m){Y(s.$$.fragment,m),U=!1},d(m){m&&g(e),z(s),Z=!1,ye(ue)}}}function Ne(r,e,n){let{question:s}=e,{hoverable:o}=e,{response:p=0}=e;function a(){p=oe(this.value),n(0,p)}function l(){p=oe(this.value),n(0,p)}return r.$$set=i=>{"question"in i&&n(1,s=i.question),"hoverable"in i&&n(2,o=i.hoverable),"response"in i&&n(0,p=i.response)},r.$$.update=()=>{r.$$.dirty&2&&s.data[s.comp2]},[p,s,o,a,l]}class Ie extends te{constructor(e){super();ne(this,e,Ne,Fe,se,{question:1,hoverable:2,response:0})}}function me(r){let e,n,s;function o(a){r[5](a)}let p={question:r[2][r[0]-1],hoverable:r[0]%2==0};return r[1]!==void 0&&(p.response=r[1]),e=new Ie({props:p}),ie.push(()=>de(e,"response",o)),{c(){G(e.$$.fragment)},l(a){L(e.$$.fragment,a)},m(a,l){M(e,a,l),s=!0},p(a,l){const i={};l&5&&(i.question=a[2][a[0]-1]),l&1&&(i.hoverable=a[0]%2==0),!n&&l&2&&(n=!0,i.response=a[1],he(()=>n=!1)),e.$set(i)},i(a){s||(Q(e.$$.fragment,a),s=!0)},o(a){Y(e.$$.fragment,a),s=!1},d(a){z(e,a)}}}function Be(r){let e;return{c(){e=C("Submit")},l(n){e=D(n,"Submit")},m(n,s){N(n,e,s)},d(n){n&&g(e)}}}function Re(r){let e,n,s,o,p,a,l,i,q,u=r[2]&&me(r);function f(t){r[6](t)}let h={pages:r[3]};return r[0]!==void 0&&(h.currentPage=r[0]),o=new we({props:h}),ie.push(()=>de(o,"currentPage",f)),i=new Pe({props:{filled:!0,$$slots:{default:[Be]},$$scope:{ctx:r}}}),i.$on("click",r[4]),{c(){e=_("div"),u&&u.c(),n=B(),s=_("span"),G(o.$$.fragment),a=B(),l=_("span"),G(i.$$.fragment),this.h()},l(t){e=b(t,"DIV",{id:!0,class:!0});var c=A(e);u&&u.l(c),c.forEach(g),n=R(t),s=b(t,"SPAN",{id:!0,class:!0});var w=A(s);L(o.$$.fragment,w),w.forEach(g),a=R(t),l=b(t,"SPAN",{id:!0,class:!0});var S=A(l);L(i.$$.fragment,S),S.forEach(g),this.h()},h(){v(e,"id","questions"),v(e,"class","svelte-s9g8yw"),v(s,"id","pages"),v(s,"class","svelte-s9g8yw"),v(l,"id","submit"),v(l,"class","svelte-s9g8yw")},m(t,c){N(t,e,c),u&&u.m(e,null),N(t,n,c),N(t,s,c),M(o,s,null),N(t,a,c),N(t,l,c),M(i,l,null),q=!0},p(t,[c]){t[2]?u?(u.p(t,c),c&4&&Q(u,1)):(u=me(t),u.c(),Q(u,1),u.m(e,null)):u&&(Ae(),Y(u,1,1,()=>{u=null}),qe());const w={};c&8&&(w.pages=t[3]),!p&&c&1&&(p=!0,w.currentPage=t[0],he(()=>p=!1)),o.$set(w);const S={};c&256&&(S.$$scope={dirty:c,ctx:t}),i.$set(S)},i(t){q||(Q(u),Q(o.$$.fragment,t),Q(i.$$.fragment,t),q=!0)},o(t){Y(u),Y(o.$$.fragment,t),Y(i.$$.fragment,t),q=!1},d(t){t&&g(e),u&&u.d(),t&&g(n),t&&g(s),z(o),t&&g(a),t&&g(l),z(i)}}}function Qe(r,e,n){let s,o,p=1;ce(async()=>{n(2,s=(await(await fetch("/questions.json")).json()).filter(t=>t.data[t.comp1]<t.data[t.comp2]));let f=s.filter(t=>t.graphtype=="n"),h=s.filter(t=>t.graphtype=="d");n(2,s=h.filter((t,c)=>c<4).concat(f.filter((t,c)=>c<4))),n(3,p=s.length)});let a={},l,i=async()=>{const f="1FAIpQLSdiON02QMfiQt4U29xJgY_Kk2rL5XONc5D9sz3qyps0CSbmfA";let h={"1":"entry.1250327149","2":"entry.1550003358","3":"entry.796467503","4":"entry.414099223","5":"entry.1191868527","6":"entry.707594900","7":"entry.1899165164","8":"entry.1742913110"},t=`https://docs.google.com/forms/d/e/${f}/formResponse?usp=pp_url`;Object.keys(h).forEach((w,S)=>{let P=a[w];t+=`&${h[w]}=${P||"empty"}`}),t+="&submit=Submit";const c=await fetch(t,{mode:"no-cors"});return window.location.href="./thanks",c};function q(f){l=f,n(1,l)}function u(f){o=f,n(0,o)}return r.$$.update=()=>{r.$$.dirty&3&&(a[o]=l)},[o,l,s,p,i,q,u]}class Ce extends te{constructor(e){super();ne(this,e,Qe,Re,se,{})}}export{Ce as default};
